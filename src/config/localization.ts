/**
 * Les Aiguilles Blanches - Localization
 * Multi-language support for Phaser 3 version
 */

import { STORAGE_KEYS } from './storageKeys';

export type SupportedLanguage = 'fr' | 'en' | 'de' | 'it' | 'es';

let currentLang: SupportedLanguage = 'fr';

export const TRANSLATIONS: Record<SupportedLanguage, Record<string, string>> = {
    fr: {
        // Menu
        subtitle: "Simulation de Damage",
        startGame: "Commencer",
        resumeGame: "Reprendre",
        newGame: "Nouvelle partie",
        continue: "Continuer",
        settings: "ParamÃ¨tres",
        controls: "ContrÃ´les",
        changelog: "NouveautÃ©s",
        howToPlay: "Comment jouer",
        fullscreen: "Plein Ã©cran",
        exitFullscreen: "Quitter plein Ã©cran",
        back: "Retour",
        backToGame: "Retour au jeu",
        loading: "Chargement...",
        madeIn: "Fait avec â„ï¸ en Savoie",
        on: "âœ“ OUI",
        off: "âœ— NON",
        zoneClosed: "ğŸš« ZONE FERMÃ‰E",
        
        // Settings
        language: "Langue",
        accessibility: "AccessibilitÃ©",
        highContrast: "Contraste Ã©levÃ©",
        reducedMotion: "Mouvement rÃ©duit",
        colorblindMode: "Daltonisme",
        none: "Aucun",
        deuteranopia: "DeutÃ©r.",
        protanopia: "Protan.",
        tritanopia: "Tritan.",
        
        // Controls
        move: "DÃ©placer",
        moveUp: "Haut",
        moveDown: "Bas",
        moveLeft: "Gauche",
        moveRight: "Droite",
        groom: "Damer",
        winch: "Treuil",
        pause: "Pause",
        clickToRebind: "Cliquer pour modifier",
        pressKey: "Appuyez sur une touche...",
        pressGamepadButton: "Appuyez sur un bouton de manette...",
        gamepadButtons: "Boutons manette",
        saved: "SauvegardÃ© !",
        resetControls: "RÃ©initialiser",
        controlsReset: "ContrÃ´les rÃ©initialisÃ©s !",
        gamepadSupported: "Manette OK",
        touchSupported: "Tactile OK",
        keyboardLayout: "Disposition clavier",
        customBindings: "PersonnalisÃ©",
        noGamepadConnected: "Aucune manette connectÃ©e",
        
        // How to Play hints
        howToPlayMove: "{keys} ou FlÃ¨ches pour se dÃ©placer",
        howToPlayMoveTouch: "Utilisez le D-pad virtuel",
        howToPlayMoveGamepad: "Stick ou D-pad pour se dÃ©placer",
        howToPlayMoveHybrid: "{keys}/FlÃ¨ches ou D-pad tactile",
        howToPlayGroom: "{groomKey} pour damer la neige",
        howToPlayGroomTouch: "Touchez â„ï¸ pour damer",
        howToPlayGroomGamepad: "pour damer la neige",
        howToPlayGroomHybrid: "{groomKey} ou touchez â„ï¸ pour damer",
        howToPlayFuel: "Surveillez carburant et endurance !",
        
        // Winch
        winchAttached: "ğŸ”— Treuil attachÃ© ! Maintenir {winchKey} pour assistance.",
        winchActive: "TREUIL",
        winchHint: "Appuyez sur {winchKey} prÃ¨s d'un ancrage numÃ©rotÃ© pour utiliser le treuil",
        winchHintTouch: "Maintenir ğŸ”— pour le treuil",
        accessPath: "Route de service",
        toPiste: "Vers la piste",
        
        // Taunts - Cliff falls (emphasize the dramatic fall, insurance headaches, rescue hassle)
        tauntCliff1: "9 tonnes dans le ravin. L'assurance va adorer.",
        tauntCliff2: "Jean-Pierre t'avait dit : 'Pas trop prÃ¨s du bord !' Tu te souviens ?",
        tauntCliff3: "Les pisteurs descendent avec les cordes. Encore.",
        tauntCliff4: "Marie annule ta rÃ©servation pour la raclette de ce soir.",
        tauntCliff5: "Thierry calcule dÃ©jÃ  le coÃ»t des rÃ©parations...",
        
        // Taunts - Fuel empty (emphasize planning failure, team disappointment)
        tauntFuel1: "La jauge Ã©tait sur rouge depuis 10 minutes. Tu regardais quoi ?",
        tauntFuel2: "Ã‰milie t'avait pourtant mis 'FAIRE LE PLEIN' en majuscules.",
        tauntFuel3: "MÃªme le diesel a ses limites. Toi aussi, apparemment.",
        tauntFuel4: "Jean-Pierre soupire. Il envoie Thierry avec un jerrican.",
        tauntFuel5: "Le soleil se lÃ¨ve. La piste n'est pas damÃ©e. Les skieurs arrivent.",
        
        // Taunts - Time limit (emphasize consequences for skiers and competition)
        tauntTime1: "Premier tÃ©lÃ©siÃ¨ge dans 3... 2... 1... RatÃ©.",
        tauntTime2: "Les skieurs dÃ©couvrent ta piste. BosselÃ©e. VerglacÃ©e. Magnifique.",
        tauntTime3: "Jean-Pierre regarde sa montre, puis toi, puis sa montre.",
        tauntTime4: "La FIS demande pourquoi le slalom est sur de la soupe.",
        tauntTime5: "Tu entends les moniteurs ESF expliquer aux clients pourquoi c'est 'pas de ta faute'.",
        
        // Game
        paused: "Pause",
        resume: "Reprendre",
        quitToMenu: "Retour au menu",
        levelComplete: "Niveau terminÃ© !",
        levelFailed: "Niveau Ã©chouÃ©",
        tryAgain: "RÃ©essayer",
        coverage: "Couverture",
        time: "Temps",
        rating: "Note",
        nextLevel: "Niveau suivant",
        replay: "Rejouer",
        pressContinue: "Appuyez sur Espace ou touchez pour continuer",
        pauseTitle: "â¸ï¸ Pause",
        restart: "Recommencer",
        quit: "Quitter",
        menu: "Menu",
        target: "Objectif",
        tutorial: "Tutoriel",
        timeUsed: "Temps utilisÃ©",
        excellent: "Excellent !",
        good: "Bien jouÃ© !",
        passed: "RÃ©ussi",
        bonusFuel: "Carburant utilisÃ©",
        bonusNoTumble: "Aucune chute",
        bonusSpeed: "Temps",
        bonusWinch: "Utilisations du treuil",
        bonusExplore: "Routes explorÃ©es",
        retry: "RÃ©essayer",
        gameComplete: "Jeu terminÃ© !",
        viewCredits: "Voir les crÃ©dits",
        creditsTitle: "FÃ©licitations !",
        creditsSubtitle: "Vous avez maÃ®trisÃ© Les Aiguilles Blanches",
        playAgain: "Rejouer",
        skipCredits: "Appuyez sur une touche pour passer",
        
        // Tutorial - Step by step
        tutorialName: "Tutoriel - Premiers Pas",
        tutorialTask: "Apprenez les bases du damage",
        tutorialIntro: "Bienvenue aux Aiguilles Blanches !",
        tutorialWelcome: "ğŸ”ï¸ Bienvenue, recrue ! Je suis Jean-Pierre, chef dameur. Je vais t'apprendre le mÃ©tier.",
        tutorialControls: "ğŸ® CONTRÃ”LES : Utilise {keys} ou les flÃ¨ches â†‘â†“â†â†’ pour dÃ©placer la dameuse.",
        tutorialControlsTouch: "ğŸ® CONTRÃ”LES : Utilise le D-pad â—€â–²â–¼â–¶ Ã  gauche pour dÃ©placer la dameuse.",
        tutorialControlsGamepad: "ğŸ® CONTRÃ”LES : Utilise le stick gauche ou D-pad pour dÃ©placer la dameuse.",
        tutorialMove: "ğŸ‘† ESSAIE : DÃ©place-toi sur la piste. La neige blanche doit Ãªtre damÃ©e !",
        tutorialGroomIntro: "âœ… Bien jouÃ© ! Maintenant, passons au damage.",
        tutorialGroomAction: "â„ï¸ DAMER : Maintiens {groomKey} tout en te dÃ©plaÃ§ant pour transformer la neige en piste damÃ©e.",
        tutorialGroomActionTouch: "â„ï¸ DAMER : Maintiens le bouton â„ï¸ Ã  droite tout en te dÃ©plaÃ§ant pour damer la neige.",
        tutorialGroomActionGamepad: "â„ï¸ DAMER : Maintiens {groomKey} tout en te dÃ©plaÃ§ant pour transformer la neige en piste damÃ©e.",
        tutorialCoverage: "ğŸ“Š Tu vois ? La neige devient plus lisse ! Continue Ã  damer la piste.",
        tutorialHUD: "ğŸ“ˆ INTERFACE : En haut Ã  gauche : â›½ Carburant, ğŸ’ª Endurance, â„ï¸ Couverture. En haut Ã  droite : â±ï¸ Temps et ğŸ¯ Objectif.",
        tutorialGoal: "ğŸ¯ OBJECTIF : Dame au moins 40% de la piste avant la fin du temps. Les skieurs arrivent bientÃ´t !",
        tutorialFuel: "â›½ CARBURANT : Se dÃ©placer consomme du carburant. En mission, visite la station-service !",
        tutorialComplete: "ğŸ† Bravo ! Tu maÃ®trises les bases. PrÃªt pour ta premiÃ¨re vraie mission sur la Piste Verte ?",
        
        // Levels
        level1Name: "Piste Verte - Les Marmottes",
        level1Task: "Damez la piste dÃ©butant",
        level2Name: "Piste Bleue - Le Chamois",
        level2Task: "Damez efficacement avant l'ouverture",
        level3Name: "Snowpark - Air Zone",
        level3Task: "PrÃ©parez les modules de freestyle",
        level4Name: "Piste Rouge - L'Aigle",
        level4Task: "Damez le terrain pentu, gÃ©rez le carburant",
        level5Name: "Half-pipe - Le Tube",
        level5Task: "Entretenez le half-pipe pour la compÃ©tition",
        level6Name: "Piste Noire - La Verticale",
        level6Task: "OpÃ©ration nocturne avec treuil",
        level7Name: "Zone Avalanche - Col Dangereux",
        level7Task: "PrÃ©parez la zone Ã  haut risque",
        level8Name: "TempÃªte - RÃ©cupÃ©ration",
        level8Task: "DÃ©gagez les pistes aprÃ¨s la tempÃªte",
        
        // Hazards
        cliffFall: "âš ï¸ ATTENTION ! Vous Ãªtes tombÃ© dans le ravin ! Mission Ã©chouÃ©e.",
        fuelEmpty: "â›½ PANNE SÃˆCHE ! Plus une goutte de diesel...",
        avalancheZone: "ZONE AVALANCHE",
        riskLevelHigh: "FORT",
        avalancheWarning: "âš ï¸ DANGER ! Le manteau neigeux est instable ! Sortez de la zone !",
        avalancheTrigger: "ğŸ”ï¸ğŸ’¨ AVALANCHE DÃ‰CLENCHÃ‰E ! Ã‰vacuation impossible !",
        steepWarning: "âš ï¸ PENTE RAIDE ! Utilisez le treuil (SHIFT) ou vous allez glisser !",
        tumble: "ğŸ”„ TONNEAU ! La dameuse a basculÃ© sur la pente !",
        
        // Taunts - Tumble/Rollover (emphasize winch lesson, expensive damage)
        tauntTumble1: "Le treuil, c'est pas dÃ©coratif. C'est pour les pentes comme Ã§a.",
        tauntTumble2: "Thierry contemple les dÃ©gÃ¢ts. Il ne dit rien. C'est pire.",
        tauntTumble3: "Jean-Pierre t'avait montrÃ© comment s'ancrer. Tu dormais ?",
        tauntTumble4: "Une PistenBully, Ã§a coÃ»te 400 000â‚¬. Enfin, Ã§a coÃ»tait.",
        tauntTumble5: "La pente te semblait gÃ©rable ? La dameuse n'Ã©tait pas d'accord.",
        
        // Taunts - Avalanche (emphasize danger, respect for mountain)
        tauntAvalanche1: "La montagne pardonne rarement. Elle n'a pas pardonnÃ©.",
        tauntAvalanche2: "Le bulletin MÃ©tÃ©o France disait risque 4. Tu l'as lu ?",
        tauntAvalanche3: "Les pisteurs retrouveront la dameuse au printemps. Peut-Ãªtre.",
        tauntAvalanche4: "Marie Ã©coute l'alerte radio. Elle sait dÃ©jÃ  que c'est toi.",
        tauntAvalanche5: "Le PIDA avait sÃ©curisÃ© le secteur. Tu l'as dÃ©-sÃ©curisÃ©.",
        
        // Dialogues
        jeanPierreIntro: "Bienvenue aux Aiguilles Blanches, petit ! Je suis Jean-Pierre, le chef dameur.",
        level2Intro: "Bien jouÃ© hier ! Aujourd'hui, on passe Ã  la piste bleue.",
        level3Intro: "Le snowpark a besoin d'amour. PrÃ©cision !",
        level4Intro: "L'Aigle, c'est du sÃ©rieux. Surveille ton carburant. Les chemins de dameuse permettent de remonter la piste â€” repÃ¨re les piquets jaunes et noirs.",
        level4WinchIntro: "Tu vas voir des ancrages numÃ©rotÃ©s sur les pentes raides. Appuie sur {winchKey} Ã  cÃ´tÃ© pour accrocher le treuil â€” Ã§a t'Ã©vitera de glisser.",
        level4WinchIntroTouch: "Tu vas voir des ancrages numÃ©rotÃ©s sur les pentes raides. Appuie sur le bouton treuil Ã  cÃ´tÃ© pour t'accrocher â€” Ã§a t'Ã©vitera de glisser.",
        level5Intro: "CompÃ©tition demain ! Le half-pipe doit Ãªtre impeccable.",
        level6Intro: "OpÃ©ration de nuit sur La Verticale. Utilise le treuil.",
        thierryWarning: "Attention, la zone avalanche est sensible. Soyez prudent.",
        level8Intro: "La tempÃªte est passÃ©e. Prends un vin chaud, Ã§a va Ãªtre long !",
        marieWelcome: "Viens te rÃ©chauffer Chez Marie. Une bonne tartiflette !",
        
        // Changelog
        changelogDate5: "7 fÃ©vrier 2026",
        changelogDay5: "ğŸ¨ Interface rÃ©tro : panneaux 3D, portraits, machine Ã  Ã©crire\nğŸ·ï¸ IcÃ´nes texte (FUEL, STAM, WINCH) au lieu d'emojis\nğŸ¯ Objectifs bonus par niveau\nğŸ•¹ï¸ Remappage boutons manette\nğŸ® Navigation manette dans tous les menus",
        changelogDate4: "6 fÃ©vrier 2026",
        changelogDay4: "ğŸ›¤ï¸ Chemins de dameuse praticables\nğŸ•¹ï¸ Joystick virtuel\nğŸŒ 5 langues complÃ¨tes",
        changelogDate3: "5 fÃ©vrier 2026",
        changelogDay3: "ğŸ”ï¸ Falaises rocheuses\nğŸŒ™ Phares de nuit\nğŸ”— MÃ©canique de treuil\nâŒ¨ï¸ Navigation clavier",
        changelogDate2: "4 fÃ©vrier 2026",
        changelogDay2: "ğŸ® Support manette\nğŸ“± ContrÃ´les tactiles\nğŸ’ª Endurance\nğŸ’¾ Sauvegarde\nâ™¿ AccessibilitÃ©",
        changelogDate1: "3 fÃ©vrier 2026",
        changelogDay1: "ğŸšœ Lancement : 9 niveaux, tutoriel\nâ„ï¸ Damage, carburant, avalanches\nğŸ† CrÃ©dits et progression"
    },
    
    en: {
        subtitle: "Snow Groomer Simulation",
        startGame: "Start Game",
        resumeGame: "Resume",
        newGame: "New Game",
        continue: "Continue",
        settings: "Settings",
        controls: "Controls",
        changelog: "What's New",
        howToPlay: "How to Play",
        fullscreen: "Fullscreen",
        exitFullscreen: "Exit Fullscreen",
        back: "Back",
        backToGame: "Back to Game",
        loading: "Loading...",
        madeIn: "Made with â„ï¸ in Savoie",
        on: "âœ“ ON",
        off: "âœ— OFF",
        zoneClosed: "ğŸš« ZONE CLOSED",
        
        // Settings
        language: "Language",
        accessibility: "Accessibility",
        highContrast: "High Contrast",
        reducedMotion: "Reduced Motion",
        colorblindMode: "Colorblind",
        none: "None",
        deuteranopia: "Deutan.",
        protanopia: "Protan.",
        tritanopia: "Tritan.",
        uiScale: "UI Scale",
        move: "Move",
        moveUp: "Up",
        moveDown: "Down",
        moveLeft: "Left",
        moveRight: "Right",
        groom: "Groom",
        winch: "Winch",
        pause: "Pause",
        clickToRebind: "Click to rebind",
        pressKey: "Press a key...",
        pressGamepadButton: "Press a gamepad button...",
        gamepadButtons: "Gamepad Buttons",
        saved: "Saved!",
        resetControls: "Reset All",
        controlsReset: "Controls reset!",
        keyboardLayout: "Layout",
        customBindings: "Custom",
        gamepadSupported: "Gamepad OK",
        touchSupported: "Touch OK",
        noGamepadConnected: "No gamepad connected",
        
        // How to Play hints
        howToPlayMove: "{keys} or Arrows to move",
        howToPlayMoveTouch: "Use the virtual D-pad",
        howToPlayMoveGamepad: "Left stick or D-pad to move",
        howToPlayMoveHybrid: "{keys}/Arrows or touch D-pad",
        howToPlayGroom: "{groomKey} to groom snow",
        howToPlayGroomTouch: "Tap â„ï¸ to groom",
        howToPlayGroomGamepad: "to groom snow",
        howToPlayGroomHybrid: "{groomKey} or tap â„ï¸ to groom",
        howToPlayFuel: "Watch your fuel and stamina!",
        
        // Winch
        winchAttached: "ğŸ”— Winch attached! Hold {winchKey} for assistance.",
        winchActive: "WINCH",
        winchHint: "Press {winchKey} near a numbered anchor post to use winch",
        winchHintTouch: "Hold ğŸ”— for winch",
        accessPath: "Service Road",
        toPiste: "To the piste",
        
        // Taunts - Cliff falls (emphasize the dramatic fall, insurance headaches, rescue hassle)
        tauntCliff1: "9 tons into the ravine. Insurance will love this.",
        tauntCliff2: "Jean-Pierre said 'not too close to the edge!' Remember?",
        tauntCliff3: "Ski patrol is coming down with ropes. Again.",
        tauntCliff4: "Marie cancels your raclette reservation for tonight.",
        tauntCliff5: "Thierry is already calculating repair costs...",
        
        // Taunts - Fuel empty (emphasize planning failure, team disappointment)
        tauntFuel1: "The gauge was on red for 10 minutes. What were you looking at?",
        tauntFuel2: "Ã‰milie wrote 'REFUEL' in capital letters on the board.",
        tauntFuel3: "Even diesel has limits. So do you, apparently.",
        tauntFuel4: "Jean-Pierre sighs. He's sending Thierry with a jerry can.",
        tauntFuel5: "Sun's rising. Piste isn't groomed. Skiers are arriving.",
        
        // Taunts - Time limit (emphasize consequences for skiers and competition)
        tauntTime1: "First chairlift in 3... 2... 1... Missed it.",
        tauntTime2: "Skiers discover your piste. Bumpy. Icy. Magnificent.",
        tauntTime3: "Jean-Pierre looks at his watch, then at you, then his watch.",
        tauntTime4: "FIS is asking why the slalom is on soup.",
        tauntTime5: "You hear ski instructors explaining to clients why it's 'not their fault'.",
        
        paused: "Paused",
        resume: "Resume",
        quitToMenu: "Quit to Menu",
        levelComplete: "Level Complete!",
        levelFailed: "Level Failed",
        tryAgain: "Try Again",
        coverage: "Coverage",
        time: "Time",
        rating: "Rating",
        nextLevel: "Next Level",
        replay: "Replay",
        pressContinue: "Press Space or tap to continue",
        pauseTitle: "â¸ï¸ Paused",
        restart: "Restart",
        quit: "Quit",
        menu: "Menu",
        target: "Target",
        tutorial: "Tutorial",
        timeUsed: "Time Used",
        excellent: "Excellent!",
        good: "Well done!",
        passed: "Passed",
        bonusFuel: "Fuel used",
        bonusNoTumble: "No tumbles",
        bonusSpeed: "Time",
        bonusWinch: "Winch uses",
        bonusExplore: "Roads explored",
        retry: "Retry",
        gameComplete: "Game Complete!",
        viewCredits: "View Credits",
        creditsTitle: "Congratulations!",
        creditsSubtitle: "You have mastered Les Aiguilles Blanches",
        playAgain: "Play Again",
        skipCredits: "Press any key to skip",
        
        // Tutorial - Full walkthrough
        tutorialName: "Tutorial - First Steps",
        tutorialTask: "Learn grooming basics",
        tutorialIntro: "Welcome to Les Aiguilles Blanches!",
        tutorialWelcome: "ğŸ”ï¸ Welcome, rookie! I'm Jean-Pierre, head groomer. I'll teach you the trade.",
        tutorialControls: "ğŸ® CONTROLS: Use {keys} or arrow keys â†‘â†“â†â†’ to move the groomer.",
        tutorialControlsTouch: "ğŸ® CONTROLS: Use the D-pad â—€â–²â–¼â–¶ on the left to move the groomer.",
        tutorialControlsGamepad: "ğŸ® CONTROLS: Use the left stick or D-pad to move the groomer.",
        tutorialMove: "ğŸ‘† TRY IT: Move around the piste. The white snow needs to be groomed!",
        tutorialGroomIntro: "âœ… Nice! Now let's learn to groom.",
        tutorialGroomAction: "â„ï¸ GROOMING: Hold {groomKey} while moving to transform snow into a smooth piste.",
        tutorialGroomActionTouch: "â„ï¸ GROOMING: Hold the â„ï¸ button on the right while moving to groom the snow.",
        tutorialGroomActionGamepad: "â„ï¸ GROOMING: Hold {groomKey} while moving to transform snow into a smooth piste.",
        tutorialCoverage: "ğŸ“Š See? The snow becomes smoother! Keep grooming the piste.",
        tutorialHUD: "ğŸ“ˆ HUD: Top-left: â›½ Fuel, ğŸ’ª Stamina, â„ï¸ Coverage. Top-right: â±ï¸ Time and ğŸ¯ Target.",
        tutorialGoal: "ğŸ¯ GOAL: Groom at least 40% of the piste before time runs out. Skiers are coming!",
        tutorialFuel: "â›½ FUEL: Moving uses fuel. On missions, visit the fuel station!",
        tutorialComplete: "ğŸ† Well done! You've mastered the basics. Ready for your first real mission on the Green Piste?",
        
        level1Name: "Green Piste - Les Marmottes",
        level1Task: "Groom the beginner slope",
        level2Name: "Blue Piste - Le Chamois",
        level2Task: "Groom efficiently before opening",
        level3Name: "Snowpark - Air Zone",
        level3Task: "Prepare freestyle features",
        level4Name: "Red Piste - L'Aigle",
        level4Task: "Groom steep terrain, manage fuel",
        level5Name: "Half-pipe - Le Tube",
        level5Task: "Maintain the half-pipe",
        level6Name: "Black Piste - La Verticale",
        level6Task: "Night operation with winch",
        level7Name: "Avalanche Zone - Col Dangereux",
        level7Task: "Prepare the high-risk zone",
        level8Name: "Storm - Recovery",
        level8Task: "Clear pistes after the storm",
        
        // Hazards
        cliffFall: "âš ï¸ WARNING! You fell off the cliff! Mission failed.",
        fuelEmpty: "â›½ OUT OF FUEL! Not a drop of diesel left...",
        avalancheZone: "AVALANCHE ZONE",
        riskLevelHigh: "HIGH",
        avalancheWarning: "âš ï¸ DANGER! Snowpack is unstable! Leave the zone!",
        avalancheTrigger: "ğŸ”ï¸ğŸ’¨ AVALANCHE TRIGGERED! No escape!",
        steepWarning: "âš ï¸ STEEP SLOPE! Use the winch (SHIFT) or you'll slide!",
        tumble: "ğŸ”„ ROLLOVER! The groomer tumbled on the slope!",
        
        // Taunts - Tumble/Rollover (emphasize winch lesson, expensive damage)
        tauntTumble1: "The winch isn't decorative. It's for slopes like this.",
        tauntTumble2: "Thierry stares at the damage. Says nothing. That's worse.",
        tauntTumble3: "Jean-Pierre showed you how to anchor. Were you asleep?",
        tauntTumble4: "A PistenBully costs â‚¬400,000. Well, it did.",
        tauntTumble5: "The slope seemed manageable? The groomer disagreed.",
        
        // Taunts - Avalanche (emphasize danger, respect for mountain)
        tauntAvalanche1: "The mountain rarely forgives. It didn't forgive.",
        tauntAvalanche2: "MÃ©tÃ©o France said risk level 4. Did you read it?",
        tauntAvalanche3: "Ski patrol will find the groomer in spring. Maybe.",
        tauntAvalanche4: "Marie hears the radio alert. She already knows it's you.",
        tauntAvalanche5: "The avalanche team had secured that sector. You un-secured it.",
        
        jeanPierreIntro: "Welcome to Les Aiguilles Blanches! I'm Jean-Pierre, head groomer.",
        level2Intro: "Nice work! Today we tackle the blue run.",
        level3Intro: "The snowpark needs love. Precision is key!",
        level4Intro: "L'Aigle is serious. Watch your fuel. Cat tracks let you drive back up â€” look for the amber and black striped poles.",
        level4WinchIntro: "You'll see numbered anchor posts on steep slopes. Press {winchKey} nearby to attach the winch â€” it'll keep you from sliding.",
        level4WinchIntroTouch: "You'll see numbered anchor posts on steep slopes. Tap the winch button nearby to attach â€” it'll keep you from sliding.",
        level5Intro: "Competition tomorrow! Half-pipe must be spotless.",
        level6Intro: "Night ops on La Verticale. Use the winch.",
        thierryWarning: "Careful, avalanche zone is sensitive today.",
        level8Intro: "Storm's passed. Grab a vin chaud - this'll take a while!",
        marieWelcome: "Come warm up at Chez Marie. A good tartiflette!",
        
        // Changelog
        changelogDate5: "February 7, 2026",
        changelogDay5: "ğŸ¨ Retro UI: 3D panels, portraits, typewriter text\nğŸ·ï¸ Text labels (FUEL, STAM, WINCH) replace emojis\nğŸ¯ Bonus objectives per level\nğŸ•¹ï¸ Gamepad button rebinding\nğŸ® Full gamepad menu navigation",
        changelogDate4: "February 6, 2026",
        changelogDay4: "ğŸ›¤ï¸ Traversable cat tracks\nğŸ•¹ï¸ Virtual joystick\nğŸŒ 5 complete languages",
        changelogDate3: "February 5, 2026",
        changelogDay3: "ğŸ”ï¸ Rocky cliffs\nğŸŒ™ Night headlights\nğŸ”— Winch mechanics\nâŒ¨ï¸ Keyboard navigation",
        changelogDate2: "February 4, 2026",
        changelogDay2: "ğŸ® Gamepad support\nğŸ“± Touch controls\nğŸ’ª Stamina\nğŸ’¾ Save progress\nâ™¿ Accessibility",
        changelogDate1: "February 3, 2026",
        changelogDay1: "ğŸšœ Launch: 9 levels, tutorial\nâ„ï¸ Grooming, fuel, avalanches\nğŸ† Credits and progression"
    },
    
    de: {
        subtitle: "Pistenraupe Simulation",
        startGame: "Spiel starten",
        resumeGame: "Fortsetzen",
        newGame: "Neues Spiel",
        continue: "Fortfahren",
        settings: "Einstellungen",
        controls: "Steuerung",
        changelog: "Neuigkeiten",
        howToPlay: "Anleitung",
        howToPlayMove: "{keys} oder Pfeiltasten bewegen",
        howToPlayMoveHybrid: "{keys}/Pfeile oder Touch-D-pad",
        howToPlayGroom: "{groomKey} zum PrÃ¤parieren",
        howToPlayGroomHybrid: "{groomKey} oder â„ï¸ tippen",
        fullscreen: "Vollbild",
        exitFullscreen: "Vollbild beenden",
        back: "ZurÃ¼ck",
        backToGame: "ZurÃ¼ck zum Spiel",
        loading: "Laden...",
        madeIn: "Mit â„ï¸ in Savoyen gemacht",
        on: "âœ“ AN",
        off: "âœ— AUS",
        zoneClosed: "ğŸš« ZONE GESPERRT",
        
        // Settings
        language: "Sprache",
        accessibility: "Barrierefreiheit",
        highContrast: "Hoher Kontrast",
        reducedMotion: "Weniger Bewegung",
        colorblindMode: "Farbenblind",
        none: "Keine",
        deuteranopia: "Deuteran.",
        protanopia: "Protan.",
        tritanopia: "Tritan.",
        move: "Bewegen",
        moveUp: "Hoch",
        moveDown: "Runter",
        moveLeft: "Links",
        moveRight: "Rechts",
        groom: "PrÃ¤parieren",
        winch: "Winde",
        pause: "Pause",
        clickToRebind: "Klicken zum Ã„ndern",
        pressKey: "Taste drÃ¼cken...",
        pressGamepadButton: "Gamepad-Taste drÃ¼cken...",
        gamepadButtons: "Gamepad-Tasten",
        saved: "Gespeichert!",
        resetControls: "ZurÃ¼cksetzen",
        controlsReset: "Steuerung zurÃ¼ckgesetzt!",
        keyboardLayout: "Tastaturlayout",
        customBindings: "Benutzerdefiniert",
        gamepadSupported: "Gamepad OK",
        touchSupported: "Touch OK",
        noGamepadConnected: "Kein Gamepad verbunden",
        
        // How to Play hints
        howToPlayMoveTouch: "Verwende das virtuelle D-Pad",
        howToPlayMoveGamepad: "Stick oder D-Pad zum Bewegen",
        howToPlayGroomTouch: "Tippe â„ï¸ zum PrÃ¤parieren",
        howToPlayGroomGamepad: "zum PrÃ¤parieren",
        howToPlayFuel: "Achte auf Kraftstoff und Ausdauer!",
        
        // Winch
        winchAttached: "ğŸ”— Winde befestigt! Halte {winchKey} fÃ¼r UnterstÃ¼tzung.",
        winchActive: "WINDE",
        winchHint: "DrÃ¼cke {winchKey} bei einem nummerierten Ankerpfosten fÃ¼r die Winde",
        winchHintTouch: "Halte ğŸ”— fÃ¼r die Winde",
        accessPath: "Zufahrtsweg",
        toPiste: "Zur Piste",
        
        // Game
        paused: "Pausiert",
        resume: "Fortsetzen",
        quitToMenu: "Zum MenÃ¼",
        levelComplete: "Level geschafft!",
        levelFailed: "Level fehlgeschlagen",
        tryAgain: "Nochmal",
        coverage: "Abdeckung",
        time: "Zeit",
        target: "Ziel",
        rating: "Bewertung",
        nextLevel: "NÃ¤chstes Level",
        replay: "Wiederholen",
        pressContinue: "Leertaste oder tippen zum Fortfahren",
        pauseTitle: "â¸ï¸ Pause",
        restart: "Neustart",
        quit: "Beenden",
        menu: "MenÃ¼",
        tutorial: "Tutorial",
        timeUsed: "BenÃ¶tigte Zeit",
        excellent: "Ausgezeichnet!",
        good: "Gut gemacht!",
        passed: "Geschafft",
        bonusFuel: "Treibstoff verbraucht",
        bonusNoTumble: "Kein Sturz",
        bonusSpeed: "Zeit",
        bonusWinch: "WindeneinsÃ¤tze",
        bonusExplore: "Wege erkundet",
        retry: "Wiederholen",
        gameComplete: "Spiel beendet!",
        viewCredits: "Credits anzeigen",
        creditsTitle: "GlÃ¼ckwunsch!",
        creditsSubtitle: "Du hast Les Aiguilles Blanches gemeistert",
        playAgain: "Nochmal spielen",
        skipCredits: "Taste drÃ¼cken zum Ãœberspringen",
        fr: "FranzÃ¶sisch",
        
        // Levels - Tutorial step by step
        tutorialName: "Tutorial - Erste Schritte",
        tutorialTask: "Grundlagen lernen",
        tutorialIntro: "Willkommen in Les Aiguilles Blanches!",
        tutorialWelcome: "ğŸ”ï¸ Willkommen, Neuling! Ich bin Jean-Pierre, ChefprÃ¤parierer. Ich bringe dir das Handwerk bei.",
        tutorialControls: "ğŸ® STEUERUNG: Benutze {keys} oder Pfeiltasten â†‘â†“â†â†’ um den Pistenbully zu bewegen.",
        tutorialControlsTouch: "ğŸ® STEUERUNG: Benutze das D-Pad â—€â–²â–¼â–¶ links zum Bewegen.",
        tutorialControlsGamepad: "ğŸ® STEUERUNG: Linker Stick oder D-Pad zum Bewegen.",
        tutorialMove: "ğŸ‘† PROBIER ES: Bewege dich auf der Piste. Der weiÃŸe Schnee muss prÃ¤pariert werden!",
        tutorialGroomIntro: "âœ… Gut gemacht! Jetzt lernen wir das PrÃ¤parieren.",
        tutorialGroomAction: "â„ï¸ PRÃ„PARIEREN: Halte {groomKey} wÃ¤hrend der Fahrt, um den Schnee zu glÃ¤tten.",
        tutorialGroomActionTouch: "â„ï¸ PRÃ„PARIEREN: Halte den â„ï¸ Knopf rechts zum PrÃ¤parieren.",
        tutorialGroomActionGamepad: "â„ï¸ PRÃ„PARIEREN: Halte {groomKey} wÃ¤hrend der Fahrt zum PrÃ¤parieren.",
        tutorialCoverage: "ğŸ“Š Siehst du? Der Schnee wird glatter! PrÃ¤pariere weiter!",
        tutorialHUD: "ğŸ“ˆ ANZEIGE: Oben links: â›½ Kraftstoff, ğŸ’ª Ausdauer, â„ï¸ Abdeckung. Oben rechts: â±ï¸ Zeit und ğŸ¯ Ziel.",
        tutorialGoal: "ğŸ¯ ZIEL: PrÃ¤pariere mindestens 40% der Piste vor Zeitablauf. Die Skifahrer kommen!",
        tutorialFuel: "â›½ KRAFTSTOFF: Fahren verbraucht Kraftstoff. Bei Missionen zur Tankstelle!",
        tutorialComplete: "ğŸ† Super! Du beherrschst die Grundlagen. Bereit fÃ¼r deine erste Mission auf der GrÃ¼nen Piste?",
        level1Name: "GrÃ¼ne Piste - Les Marmottes",
        level1Task: "PrÃ¤pariere die AnfÃ¤ngerpiste",
        level2Name: "Blaue Piste - Le Chamois",
        level2Task: "PrÃ¤pariere effizient vor der Ã–ffnung",
        level3Name: "Snowpark - Air Zone",
        level3Task: "Bereite die Freestyle-Module vor",
        level4Name: "Rote Piste - L'Aigle",
        level4Task: "Steiles Terrain, Kraftstoff managen",
        level5Name: "Halfpipe - Le Tube",
        level5Task: "Halfpipe fÃ¼r den Wettkampf vorbereiten",
        level6Name: "Schwarze Piste - La Verticale",
        level6Task: "Nachteinsatz mit Winde",
        level7Name: "Lawinenzone - Col Dangereux",
        level7Task: "Hochrisikogebiet vorbereiten",
        level8Name: "Sturm - Bergung",
        level8Task: "Pisten nach dem Sturm rÃ¤umen",
        
        // Hazards
        cliffFall: "âš ï¸ ACHTUNG! Sie sind in die Schlucht gefallen! Mission gescheitert.",
        fuelEmpty: "â›½ LEER! Kein Tropfen Diesel mehr...",
        avalancheZone: "LAWINENZONE",
        riskLevelHigh: "HOCH",
        avalancheWarning: "âš ï¸ GEFAHR! Instabile Schneedecke! Verlasse die Zone!",
        avalancheTrigger: "ğŸ”ï¸ğŸ’¨ LAWINE AUSGELÃ–ST! Keine Flucht mÃ¶glich!",
        steepWarning: "âš ï¸ STEILER HANG! Benutze die Winde (SHIFT) oder du rutschst ab!",
        tumble: "ğŸ”„ ÃœBERSCHLAG! Der Pistenbully ist umgekippt!",
        
        // Dialogues
        jeanPierreIntro: "Willkommen in Les Aiguilles Blanches, Kleiner! Ich bin Jean-Pierre, der ChefprÃ¤parierer.",
        level2Intro: "Gut gemacht gestern! Heute geht's zur blauen Piste.",
        level3Intro: "Der Snowpark braucht Liebe. PrÃ¤zision!",
        level4Intro: "L'Aigle ist ernst. Achte auf den Kraftstoff. Die Pistenraupenspuren fÃ¼hren zurÃ¼ck nach oben â€” achte auf die gelb-schwarz gestreiften Stangen.",
        level4WinchIntro: "Du wirst nummerierte Ankerpfosten an steilen HÃ¤ngen sehen. DrÃ¼cke {winchKey} daneben, um die Winde einzuhaken â€” damit rutscht du nicht ab.",
        level4WinchIntroTouch: "Du wirst nummerierte Ankerpfosten an steilen HÃ¤ngen sehen. Tippe auf den Winden-Button, um einzuhaken â€” damit rutscht du nicht ab.",
        level5Intro: "Morgen ist Wettkampf! Die Halfpipe muss perfekt sein.",
        level6Intro: "Nachteinsatz auf La Verticale. Benutze die Winde.",
        thierryWarning: "Achtung, die Lawinenzone ist empfindlich. Sei vorsichtig.",
        level8Intro: "Der Sturm ist vorbei. Nimm einen GlÃ¼hwein, das wird lang!",
        marieWelcome: "Komm dich aufwÃ¤rmen bei Marie. Eine leckere Tartiflette!",
        
        // Changelog
        changelogDate5: "7. Februar 2026",
        changelogDay5: "ğŸ¨ Retro-UI: 3D-Panels, PortrÃ¤ts, Schreibmaschinentext\nğŸ·ï¸ Textlabels (FUEL, STAM, WINCH) statt Emojis\nğŸ¯ Bonusziele pro Level\nğŸ•¹ï¸ Gamepad-Tastenbelegung\nğŸ® Gamepad-Navigation in allen MenÃ¼s",
        changelogDate4: "6. Februar 2026",
        changelogDay4: "ğŸ›¤ï¸ Befahrbare Pistenraupenspuren\nğŸ•¹ï¸ Virtueller Joystick\nğŸŒ 5 vollstÃ¤ndige Sprachen",
        changelogDate3: "5. Februar 2026",
        changelogDay3: "ğŸ”ï¸ Felsige Klippen\nğŸŒ™ Nachtscheinwerfer\nğŸ”— Windenmechanik\nâŒ¨ï¸ Tastaturnavigation",
        changelogDate2: "4. Februar 2026",
        changelogDay2: "ğŸ® Gamepad-UnterstÃ¼tzung\nğŸ“± Touch-Steuerung\nğŸ’ª Ausdauer\nğŸ’¾ Speicherung\nâ™¿ Barrierefreiheit",
        changelogDate1: "3. Februar 2026",
        changelogDay1: "ğŸšœ Start: 9 Level, Tutorial\nâ„ï¸ PrÃ¤parieren, Kraftstoff, Lawinen\nğŸ† Credits und Fortschritt",

        // Taunts - Cliff
        tauntCliff1: "9 Tonnen in der Schlucht. Die Versicherung wird begeistert sein.",
        tauntCliff2: "Jean-Pierre sagte: 'Nicht zu nah am Rand!' Erinnerst du dich?",
        tauntCliff3: "Die Bergwacht kommt mit Seilen. Wieder.",
        tauntCliff4: "Marie storniert deine Raclette-Reservierung fÃ¼r heute Abend.",
        tauntCliff5: "Thierry rechnet bereits die Reparaturkosten...",
        // Taunts - Fuel
        tauntFuel1: "Die Anzeige war 10 Minuten lang auf Rot. Was hast du angeschaut?",
        tauntFuel2: "Ã‰milie hatte 'TANKEN' in GroÃŸbuchstaben geschrieben.",
        tauntFuel3: "Selbst Diesel hat Grenzen. Du offenbar auch.",
        tauntFuel4: "Jean-Pierre seufzt. Er schickt Thierry mit einem Kanister.",
        tauntFuel5: "Die Sonne geht auf. Die Piste ist nicht prÃ¤pariert.",
        // Taunts - Time
        tauntTime1: "Erster Sessellift in 3... 2... 1... Verpasst.",
        tauntTime2: "Skifahrer entdecken deine Piste. Buckelig. Vereist. Toll.",
        tauntTime3: "Jean-Pierre schaut auf seine Uhr, dann auf dich.",
        tauntTime4: "Die FIS fragt, warum der Slalom auf Suppe stattfindet.",
        tauntTime5: "Du hÃ¶rst Skilehrer den GÃ¤sten erklÃ¤ren, dass es 'nicht ihre Schuld' ist.",
        // Taunts - Tumble
        tauntTumble1: "Die Winde ist nicht zur Dekoration da.",
        tauntTumble2: "Thierry starrt auf den Schaden. Sagt nichts. Das ist schlimmer.",
        tauntTumble3: "Jean-Pierre hat dir gezeigt, wie man ankert. Hast du geschlafen?",
        tauntTumble4: "Ein PistenBully kostet 400.000â‚¬. Naja, kostete.",
        tauntTumble5: "Der Hang schien machbar? Die Raupe war anderer Meinung.",
        // Taunts - Avalanche
        tauntAvalanche1: "Der Berg verzeiht selten. Er hat nicht verziehen.",
        tauntAvalanche2: "MÃ©tÃ©o France sagte Risikostufe 4. Hast du gelesen?",
        tauntAvalanche3: "Die Bergwacht findet die Raupe im FrÃ¼hling. Vielleicht.",
        tauntAvalanche4: "Marie hÃ¶rt den Funkalarm. Sie weiÃŸ schon, dass du es warst.",
        tauntAvalanche5: "Das Lawinenteam hatte den Sektor gesichert. Du hast ihn ent-sichert."
    },
    
    it: {
        subtitle: "Simulazione Gatto delle Nevi",
        startGame: "Inizia",
        resumeGame: "Riprendi",
        newGame: "Nuova Partita",
        continue: "Continua",
        settings: "Impostazioni",
        controls: "Comandi",
        changelog: "NovitÃ ",
        howToPlay: "Come Giocare",
        howToPlayMove: "{keys} o Frecce per muoversi",
        howToPlayMoveHybrid: "{keys}/Frecce o D-pad touch",
        howToPlayGroom: "{groomKey} per preparare",
        howToPlayGroomHybrid: "{groomKey} o tocca â„ï¸",
        fullscreen: "Schermo intero",
        exitFullscreen: "Esci schermo intero",
        back: "Indietro",
        backToGame: "Torna al gioco",
        loading: "Caricamento...",
        madeIn: "Fatto con â„ï¸ in Savoia",
        on: "âœ“ SÃŒ",
        off: "âœ— NO",
        zoneClosed: "ğŸš« ZONA CHIUSA",
        
        // Settings
        language: "Lingua",
        accessibility: "AccessibilitÃ ",
        highContrast: "Alto Contrasto",
        reducedMotion: "Meno Movimento",
        colorblindMode: "Daltonismo",
        none: "Nessuno",
        deuteranopia: "Deuteran.",
        protanopia: "Protan.",
        tritanopia: "Tritan.",
        move: "Muovi",
        moveUp: "Su",
        moveDown: "GiÃ¹",
        moveLeft: "Sinistra",
        moveRight: "Destra",
        groom: "Battipista",
        winch: "Verricello",
        pause: "Pausa",
        clickToRebind: "Clicca per modificare",
        pressKey: "Premi un tasto...",
        pressGamepadButton: "Premi un pulsante del gamepad...",
        gamepadButtons: "Pulsanti gamepad",
        saved: "Salvato!",
        resetControls: "Ripristina",
        controlsReset: "Comandi ripristinati!",
        keyboardLayout: "Layout tastiera",
        customBindings: "Personalizzato",
        gamepadSupported: "Gamepad OK",
        touchSupported: "Touch OK",
        noGamepadConnected: "Nessun gamepad connesso",
        
        // How to Play hints
        howToPlayMoveTouch: "Usa il D-pad virtuale",
        howToPlayMoveGamepad: "Stick o D-pad per muoversi",
        howToPlayGroomTouch: "Tocca â„ï¸ per preparare",
        howToPlayGroomGamepad: "per preparare la neve",
        howToPlayFuel: "Controlla carburante e resistenza!",
        
        // Winch
        winchAttached: "ğŸ”— Verricello agganciato! Tieni {winchKey} per assistenza.",
        winchActive: "VERRICELLO",
        winchHint: "Premi {winchKey} vicino a un paletto di ancoraggio numerato per il verricello",
        winchHintTouch: "Tieni ğŸ”— per il verricello",
        accessPath: "Strada di servizio",
        toPiste: "Verso la pista",
        
        // Game
        paused: "Pausa",
        resume: "Riprendi",
        quitToMenu: "Torna al Menu",
        levelComplete: "Livello completato!",
        levelFailed: "Livello fallito",
        tryAgain: "Riprova",
        coverage: "Copertura",
        time: "Tempo",
        target: "Obiettivo",
        rating: "Voto",
        nextLevel: "Prossimo livello",
        replay: "Rigiocare",
        pressContinue: "Premi Spazio o tocca per continuare",
        pauseTitle: "â¸ï¸ Pausa",
        restart: "Ricomincia",
        quit: "Esci",
        menu: "Menu",
        tutorial: "Tutorial",
        timeUsed: "Tempo impiegato",
        excellent: "Eccellente!",
        good: "Ben fatto!",
        passed: "Superato",
        bonusFuel: "Carburante usato",
        bonusNoTumble: "Nessuna caduta",
        bonusSpeed: "Tempo",
        bonusWinch: "Usi del verricello",
        bonusExplore: "Strade esplorate",
        retry: "Riprova",
        gameComplete: "Gioco completato!",
        viewCredits: "Vedi crediti",
        creditsTitle: "Complimenti!",
        creditsSubtitle: "Hai padroneggiato Les Aiguilles Blanches",
        playAgain: "Rigiocare",
        skipCredits: "Premi un tasto per saltare",
        fr: "Francese",
        
        // Levels - Tutorial step by step
        tutorialName: "Tutorial - Primi Passi",
        tutorialTask: "Impara le basi",
        tutorialIntro: "Benvenuto a Les Aiguilles Blanches!",
        tutorialWelcome: "ğŸ”ï¸ Benvenuto, novellino! Sono Jean-Pierre, capo gattista. Ti insegnerÃ² il mestiere.",
        tutorialControls: "ğŸ® COMANDI: Usa {keys} o le frecce â†‘â†“â†â†’ per muovere il gatto delle nevi.",
        tutorialControlsTouch: "ğŸ® COMANDI: Usa il D-pad â—€â–²â–¼â–¶ a sinistra per muoversi.",
        tutorialControlsGamepad: "ğŸ® COMANDI: Stick sinistro o D-pad per muoversi.",
        tutorialMove: "ğŸ‘† PROVA: Muoviti sulla pista. La neve bianca deve essere battuta!",
        tutorialGroomIntro: "âœ… Ottimo! Ora impariamo a battere la neve.",
        tutorialGroomAction: "â„ï¸ BATTIPISTA: Tieni {groomKey} mentre ti muovi per lisciare la neve.",
        tutorialGroomActionTouch: "â„ï¸ BATTIPISTA: Tieni il pulsante â„ï¸ a destra per preparare.",
        tutorialGroomActionGamepad: "â„ï¸ BATTIPISTA: Tieni {groomKey} mentre ti muovi per preparare.",
        tutorialCoverage: "ğŸ“Š Vedi? La neve diventa piÃ¹ liscia! Continua a battere!",
        tutorialHUD: "ğŸ“ˆ HUD: In alto a sinistra: â›½ Carburante, ğŸ’ª Resistenza, â„ï¸ Copertura. In alto a destra: â±ï¸ Tempo e ğŸ¯ Obiettivo.",
        tutorialGoal: "ğŸ¯ OBIETTIVO: Batti almeno il 40% della pista prima che scada il tempo. Gli sciatori stanno arrivando!",
        tutorialFuel: "â›½ CARBURANTE: Muoversi consuma carburante. Durante le missioni, visita la stazione di servizio!",
        tutorialComplete: "ğŸ† Bravo! Hai imparato le basi. Pronto per la tua prima missione sulla Pista Verde?",
        level1Name: "Pista Verde - Les Marmottes",
        level1Task: "Prepara la pista principianti",
        level2Name: "Pista Blu - Le Chamois",
        level2Task: "Prepara prima dell'apertura",
        level3Name: "Snowpark - Air Zone",
        level3Task: "Prepara i moduli freestyle",
        level4Name: "Pista Rossa - L'Aigle",
        level4Task: "Terreno ripido, gestisci il carburante",
        level5Name: "Halfpipe - Le Tube",
        level5Task: "Prepara l'halfpipe per la gara",
        level6Name: "Pista Nera - La Verticale",
        level6Task: "Operazione notturna con verricello",
        level7Name: "Zona Valanghe - Col Dangereux",
        level7Task: "Prepara la zona ad alto rischio",
        level8Name: "Tempesta - Recupero",
        level8Task: "Libera le piste dopo la tempesta",
        
        // Hazards
        cliffFall: "âš ï¸ ATTENZIONE! Sei caduto nel dirupo! Missione fallita.",
        fuelEmpty: "â›½ SERBATOIO VUOTO! Neanche una goccia di diesel...",
        avalancheZone: "ZONA VALANGHE",
        riskLevelHigh: "ALTO",
        avalancheWarning: "âš ï¸ PERICOLO! Manto nevoso instabile! Esci dalla zona!",
        avalancheTrigger: "ğŸ”ï¸ğŸ’¨ VALANGA INNESCATA! Impossibile evacuare!",
        steepWarning: "âš ï¸ PENDIO RIPIDO! Usa il verricello (SHIFT) o scivolerai!",
        tumble: "ğŸ”„ RIBALTAMENTO! Il gatto delle nevi si Ã¨ rovesciato!",
        
        // Dialogues
        jeanPierreIntro: "Benvenuto a Les Aiguilles Blanches, piccolo! Sono Jean-Pierre, il capo gattista.",
        level2Intro: "Ben fatto ieri! Oggi si passa alla pista blu.",
        level3Intro: "Lo snowpark ha bisogno di cure. Precisione!",
        level4Intro: "L'Aigle Ã¨ roba seria. Occhio al carburante. I tracciati battipista permettono di risalire â€” cerca i pali a strisce gialle e nere.",
        level4WinchIntro: "Vedrai paletti di ancoraggio numerati sui pendii ripidi. Premi {winchKey} vicino per agganciare il verricello â€” eviterai di scivolare.",
        level4WinchIntroTouch: "Vedrai paletti di ancoraggio numerati sui pendii ripidi. Tocca il pulsante verricello vicino per agganciarti â€” eviterai di scivolare.",
        level5Intro: "Domani c'Ã¨ la gara! L'halfpipe deve essere perfetto.",
        level6Intro: "Operazione notturna su La Verticale. Usa il verricello.",
        thierryWarning: "Attenzione, la zona valanghe Ã¨ sensibile. Fai attenzione.",
        level8Intro: "La tempesta Ã¨ passata. Prendi un vin brulÃ©, sarÃ  lunga!",
        marieWelcome: "Vieni a scaldarti da Marie. Una bella tartiflette!",
        
        // Changelog
        changelogDate5: "7 febbraio 2026",
        changelogDay5: "ğŸ¨ UI retro: pannelli 3D, ritratti, effetto macchina da scrivere\nğŸ·ï¸ Etichette testo (FUEL, STAM, WINCH) al posto degli emoji\nğŸ¯ Obiettivi bonus per livello\nğŸ•¹ï¸ Rimappatura tasti gamepad\nğŸ® Navigazione gamepad in tutti i menu",
        changelogDate4: "6 febbraio 2026",
        changelogDay4: "ğŸ›¤ï¸ Tracciati battipista percorribili\nğŸ•¹ï¸ Joystick virtuale\nğŸŒ 5 lingue complete",
        changelogDate3: "5 febbraio 2026",
        changelogDay3: "ğŸ”ï¸ Scogliere rocciose\nğŸŒ™ Fari notturni\nğŸ”— Meccanica verricello\nâŒ¨ï¸ Navigazione tastiera",
        changelogDate2: "4 febbraio 2026",
        changelogDay2: "ğŸ® Supporto gamepad\nğŸ“± Controlli touch\nğŸ’ª Resistenza\nğŸ’¾ Salvataggio\nâ™¿ AccessibilitÃ ",
        changelogDate1: "3 febbraio 2026",
        changelogDay1: "ğŸšœ Lancio: 9 livelli, tutorial\nâ„ï¸ Preparazione, carburante, valanghe\nğŸ† Crediti e progressione",

        // Taunts - Cliff
        tauntCliff1: "9 tonnellate nel burrone. L'assicurazione sarÃ  entusiasta.",
        tauntCliff2: "Jean-Pierre aveva detto: 'Non troppo vicino al bordo!' Ricordi?",
        tauntCliff3: "Il soccorso alpino arriva con le corde. Di nuovo.",
        tauntCliff4: "Marie cancella la tua prenotazione per la raclette di stasera.",
        tauntCliff5: "Thierry sta giÃ  calcolando i costi di riparazione...",
        // Taunts - Fuel
        tauntFuel1: "L'indicatore era rosso da 10 minuti. Cosa guardavi?",
        tauntFuel2: "Ã‰milie aveva scritto 'FARE RIFORNIMENTO' in maiuscolo.",
        tauntFuel3: "Anche il diesel ha i suoi limiti. Tu pure, a quanto pare.",
        tauntFuel4: "Jean-Pierre sospira. Manda Thierry con una tanica.",
        tauntFuel5: "Il sole sorge. La pista non Ã¨ preparata.",
        // Taunts - Time
        tauntTime1: "Prima seggiovia tra 3... 2... 1... Persa.",
        tauntTime2: "Gli sciatori scoprono la tua pista. Dissestata. Ghiacciata. Magnifica.",
        tauntTime3: "Jean-Pierre guarda l'orologio, poi te.",
        tauntTime4: "La FIS chiede perchÃ© lo slalom Ã¨ su una zuppa.",
        tauntTime5: "Senti i maestri di sci spiegare ai clienti che 'non Ã¨ colpa loro'.",
        // Taunts - Tumble
        tauntTumble1: "Il verricello non Ã¨ decorativo. Ãˆ per pendii come questo.",
        tauntTumble2: "Thierry fissa i danni. Non dice niente. Ãˆ peggio.",
        tauntTumble3: "Jean-Pierre ti ha mostrato come ancorarti. Dormivi?",
        tauntTumble4: "Un PistenBully costa 400.000â‚¬. Beh, costava.",
        tauntTumble5: "Il pendio sembrava gestibile? Il gatto non era d'accordo.",
        // Taunts - Avalanche
        tauntAvalanche1: "La montagna perdona raramente. Non ha perdonato.",
        tauntAvalanche2: "MÃ©tÃ©o France diceva rischio 4. L'hai letto?",
        tauntAvalanche3: "Il soccorso troverÃ  il gatto in primavera. Forse.",
        tauntAvalanche4: "Marie sente l'allarme radio. Sa giÃ  che sei tu.",
        tauntAvalanche5: "La squadra valanghe aveva messo in sicurezza il settore. Tu l'hai de-sicurato."
    },
    
    es: {
        subtitle: "SimulaciÃ³n de Pisapistas",
        startGame: "Empezar",
        resumeGame: "Continuar Partida",
        newGame: "Nueva Partida",
        continue: "Continuar",
        settings: "Ajustes",
        controls: "Controles",
        changelog: "Novedades",
        howToPlay: "CÃ³mo Jugar",
        howToPlayMove: "{keys} o Flechas para mover",
        howToPlayMoveHybrid: "{keys}/Flechas o D-pad tÃ¡ctil",
        howToPlayGroom: "{groomKey} para preparar",
        howToPlayGroomHybrid: "{groomKey} o toca â„ï¸",
        fullscreen: "Pantalla completa",
        exitFullscreen: "Salir pantalla completa",
        back: "Volver",
        backToGame: "Volver al juego",
        loading: "Cargando...",
        madeIn: "Hecho con â„ï¸ en Saboya",
        on: "âœ“ SÃ",
        off: "âœ— NO",
        zoneClosed: "ğŸš« ZONA CERRADA",
        
        // Settings
        language: "Idioma",
        accessibility: "Accesibilidad",
        highContrast: "Alto Contraste",
        reducedMotion: "Menos Movimiento",
        colorblindMode: "Daltonismo",
        none: "Ninguno",
        deuteranopia: "Deuteran.",
        protanopia: "Protan.",
        tritanopia: "Tritan.",
        move: "Mover",
        moveUp: "Arriba",
        moveDown: "Abajo",
        moveLeft: "Izquierda",
        moveRight: "Derecha",
        groom: "Pisar",
        winch: "Cabrestante",
        pause: "Pausa",
        clickToRebind: "Clic para cambiar",
        pressKey: "Pulsa una tecla...",
        pressGamepadButton: "Pulsa un botÃ³n del mando...",
        gamepadButtons: "Botones del mando",
        saved: "Â¡Guardado!",
        resetControls: "Restablecer",
        controlsReset: "Â¡Controles restablecidos!",
        keyboardLayout: "DistribuciÃ³n",
        customBindings: "Personalizado",
        gamepadSupported: "Gamepad OK",
        touchSupported: "TÃ¡ctil OK",
        noGamepadConnected: "NingÃºn gamepad conectado",
        
        // How to Play hints
        howToPlayMoveTouch: "Usa el D-pad virtual",
        howToPlayMoveGamepad: "Stick o D-pad para mover",
        howToPlayGroomTouch: "Toca â„ï¸ para preparar",
        howToPlayGroomGamepad: "para preparar la nieve",
        howToPlayFuel: "Â¡Vigila el combustible y la resistencia!",
        
        // Winch
        winchAttached: "ğŸ”— Â¡Cabrestante enganchado! MantÃ©n {winchKey} para asistencia.",
        winchActive: "CABRESTANTE",
        winchHint: "Pulsa {winchKey} cerca de un poste de anclaje numerado para usar el cabrestante",
        winchHintTouch: "MantÃ©n ğŸ”— para el cabrestante",
        accessPath: "Camino de servicio",
        toPiste: "Hacia la pista",
        
        // Game
        paused: "Pausado",
        resume: "Reanudar",
        quitToMenu: "Volver al MenÃº",
        levelComplete: "Â¡Nivel completado!",
        levelFailed: "Nivel fallido",
        tryAgain: "Reintentar",
        coverage: "Cobertura",
        time: "Tiempo",
        target: "Objetivo",
        rating: "PuntuaciÃ³n",
        nextLevel: "Siguiente nivel",
        replay: "Rejugar",
        pressContinue: "Pulsa Espacio o toca para continuar",
        pauseTitle: "â¸ï¸ Pausa",
        restart: "Reiniciar",
        quit: "Salir",
        menu: "MenÃº",
        tutorial: "Tutorial",
        timeUsed: "Tiempo usado",
        excellent: "Â¡Excelente!",
        good: "Â¡Bien hecho!",
        passed: "Aprobado",
        bonusFuel: "Combustible usado",
        bonusNoTumble: "Sin caÃ­das",
        bonusSpeed: "Tiempo",
        bonusWinch: "Usos del cabrestante",
        bonusExplore: "Caminos explorados",
        retry: "Reintentar",
        gameComplete: "Â¡Juego completado!",
        viewCredits: "Ver crÃ©ditos",
        creditsTitle: "Â¡Felicidades!",
        creditsSubtitle: "Has dominado Les Aiguilles Blanches",
        playAgain: "Jugar de nuevo",
        skipCredits: "Pulsa una tecla para saltar",
        fr: "FrancÃ©s",
        
        // Levels - Tutorial step by step
        tutorialName: "Tutorial - Primeros Pasos",
        tutorialTask: "Aprende lo bÃ¡sico",
        tutorialIntro: "Â¡Bienvenido a Les Aiguilles Blanches!",
        tutorialWelcome: "ğŸ”ï¸ Â¡Bienvenido, novato! Soy Jean-Pierre, jefe pisador. Te enseÃ±arÃ© el oficio.",
        tutorialControls: "ğŸ® CONTROLES: Usa {keys} o las flechas â†‘â†“â†â†’ para mover la mÃ¡quina pisanieves.",
        tutorialControlsTouch: "ğŸ® CONTROLES: Usa el D-pad â—€â–²â–¼â–¶ a la izquierda para moverte.",
        tutorialControlsGamepad: "ğŸ® CONTROLES: Stick izquierdo o D-pad para moverte.",
        tutorialMove: "ğŸ‘† PRUEBA: MuÃ©vete por la pista. Â¡La nieve blanca debe ser pisada!",
        tutorialGroomIntro: "âœ… Â¡Genial! Ahora aprendamos a pisar la nieve.",
        tutorialGroomAction: "â„ï¸ PISAR: MantÃ©n {groomKey} mientras te mueves para alisar la nieve.",
        tutorialGroomActionTouch: "â„ï¸ PISAR: MantÃ©n el botÃ³n â„ï¸ a la derecha para preparar.",
        tutorialGroomActionGamepad: "â„ï¸ PISAR: MantÃ©n {groomKey} mientras te mueves para preparar.",
        tutorialCoverage: "ğŸ“Š Â¿Ves? Â¡La nieve se vuelve mÃ¡s lisa! Â¡Sigue pisando!",
        tutorialHUD: "ğŸ“ˆ HUD: Arriba izquierda: â›½ Combustible, ğŸ’ª Resistencia, â„ï¸ Cobertura. Arriba derecha: â±ï¸ Tiempo y ğŸ¯ Objetivo.",
        tutorialGoal: "ğŸ¯ META: Pisa al menos el 40% de la pista antes de que acabe el tiempo. Â¡Los esquiadores vienen!",
        tutorialFuel: "â›½ COMBUSTIBLE: Moverse gasta combustible. Â¡En misiones, visita la gasolinera!",
        tutorialComplete: "ğŸ† Â¡Bravo! Dominas lo bÃ¡sico. Â¿Listo para tu primera misiÃ³n en la Pista Verde?",
        level1Name: "Pista Verde - Les Marmottes",
        level1Task: "Prepara la pista de principiantes",
        level2Name: "Pista Azul - Le Chamois",
        level2Task: "Prepara antes de la apertura",
        level3Name: "Snowpark - Air Zone",
        level3Task: "Prepara los mÃ³dulos de freestyle",
        level4Name: "Pista Roja - L'Aigle",
        level4Task: "Terreno empinado, gestiona el combustible",
        level5Name: "Halfpipe - Le Tube",
        level5Task: "Prepara el halfpipe para la competiciÃ³n",
        level6Name: "Pista Negra - La Verticale",
        level6Task: "OperaciÃ³n nocturna con cabrestante",
        level7Name: "Zona de Avalanchas - Col Dangereux",
        level7Task: "Prepara la zona de alto riesgo",
        level8Name: "Tormenta - RecuperaciÃ³n",
        level8Task: "Despeja las pistas tras la tormenta",
        
        // Hazards
        cliffFall: "âš ï¸ Â¡CUIDADO! Â¡Has caÃ­do al precipicio! MisiÃ³n fallida.",
        fuelEmpty: "â›½ Â¡SIN COMBUSTIBLE! Ni una gota de diÃ©sel...",
        avalancheZone: "ZONA DE AVALANCHAS",
        riskLevelHigh: "ALTO",
        avalancheWarning: "âš ï¸ Â¡PELIGRO! Â¡Manto de nieve inestable! Â¡Sal de la zona!",
        avalancheTrigger: "ğŸ”ï¸ğŸ’¨ Â¡AVALANCHA DESENCADENADA! Â¡EvacuaciÃ³n imposible!",
        steepWarning: "âš ï¸ Â¡PENDIENTE EMPINADA! Â¡Usa el cabrestante (SHIFT) o resbalarÃ¡s!",
        tumble: "ğŸ”„ Â¡VUELCO! Â¡La mÃ¡quina ha volcado en la pendiente!",
        
        // Dialogues
        jeanPierreIntro: "Â¡Bienvenido a Les Aiguilles Blanches, pequeÃ±o! Soy Jean-Pierre, el jefe pisador.",
        level2Intro: "Â¡Bien hecho ayer! Hoy pasamos a la pista azul.",
        level3Intro: "El snowpark necesita cariÃ±o. Â¡PrecisiÃ³n!",
        level4Intro: "L'Aigle es serio. Vigila el combustible. Los caminos de pisapistas permiten subir â€” busca los postes con rayas amarillas y negras.",
        level4WinchIntro: "VerÃ¡s postes de anclaje numerados en las pendientes pronunciadas. Pulsa {winchKey} cerca para enganchar el cabrestante â€” evitarÃ¡s resbalar.",
        level4WinchIntroTouch: "VerÃ¡s postes de anclaje numerados en las pendientes pronunciadas. Toca el botÃ³n de cabrestante cerca para engancharte â€” evitarÃ¡s resbalar.",
        level5Intro: "Â¡MaÃ±ana hay competiciÃ³n! El halfpipe debe estar perfecto.",
        level6Intro: "OperaciÃ³n nocturna en La Verticale. Usa el cabrestante.",
        thierryWarning: "Cuidado, la zona de avalanchas es sensible. Ten cuidado.",
        level8Intro: "La tormenta ha pasado. Â¡Toma un vino caliente, va a ser largo!",
        marieWelcome: "Ven a calentarte a lo de Marie. Â¡Una buena tartiflette!",
        
        // Changelog
        changelogDate5: "7 de febrero de 2026",
        changelogDay5: "ğŸ¨ UI retro: paneles 3D, retratos, efecto mÃ¡quina de escribir\nğŸ·ï¸ Etiquetas texto (FUEL, STAM, WINCH) en vez de emojis\nğŸ¯ Objetivos bonus por nivel\nğŸ•¹ï¸ ReasignaciÃ³n botones mando\nğŸ® NavegaciÃ³n mando en todos los menÃºs",
        changelogDate4: "6 de febrero de 2026",
        changelogDay4: "ğŸ›¤ï¸ Caminos de pisapistas transitables\nğŸ•¹ï¸ Joystick virtual\nğŸŒ 5 idiomas completos",
        changelogDate3: "5 de febrero de 2026",
        changelogDay3: "ğŸ”ï¸ Acantilados rocosos\nğŸŒ™ Faros nocturnos\nğŸ”— MecÃ¡nica cabrestante\nâŒ¨ï¸ NavegaciÃ³n teclado",
        changelogDate2: "4 de febrero de 2026",
        changelogDay2: "ğŸ® Soporte mando\nğŸ“± Controles tÃ¡ctiles\nğŸ’ª Resistencia\nğŸ’¾ Guardado\nâ™¿ Accesibilidad",
        changelogDate1: "3 de febrero de 2026",
        changelogDay1: "ğŸšœ Lanzamiento: 9 niveles, tutorial\nâ„ï¸ PreparaciÃ³n, combustible, avalanchas\nğŸ† CrÃ©ditos y progresiÃ³n",

        // Taunts - Cliff
        tauntCliff1: "9 toneladas en el barranco. Al seguro le va a encantar.",
        tauntCliff2: "Jean-Pierre dijo: 'Â¡No tan cerca del borde!' Â¿Recuerdas?",
        tauntCliff3: "El equipo de rescate baja con cuerdas. Otra vez.",
        tauntCliff4: "Marie cancela tu reserva de raclette para esta noche.",
        tauntCliff5: "Thierry ya estÃ¡ calculando los costes de reparaciÃ³n...",
        // Taunts - Fuel
        tauntFuel1: "El indicador llevaba 10 minutos en rojo. Â¿QuÃ© mirabas?",
        tauntFuel2: "Ã‰milie escribiÃ³ 'REPOSTAR' en mayÃºsculas en la pizarra.",
        tauntFuel3: "Hasta el diÃ©sel tiene lÃ­mites. TÃº tambiÃ©n, al parecer.",
        tauntFuel4: "Jean-Pierre suspira. EnvÃ­a a Thierry con un bidÃ³n.",
        tauntFuel5: "Sale el sol. La pista no estÃ¡ preparada.",
        // Taunts - Time
        tauntTime1: "Primer telesilla en 3... 2... 1... Perdido.",
        tauntTime2: "Los esquiadores descubren tu pista. Con baches. Helada. MagnÃ­fica.",
        tauntTime3: "Jean-Pierre mira su reloj, luego a ti.",
        tauntTime4: "La FIS pregunta por quÃ© el slalom estÃ¡ sobre sopa.",
        tauntTime5: "Oyes a los monitores explicar a los clientes que 'no es culpa suya'.",
        // Taunts - Tumble
        tauntTumble1: "El cabrestante no es decorativo. Es para pendientes asÃ­.",
        tauntTumble2: "Thierry contempla los daÃ±os. No dice nada. Es peor.",
        tauntTumble3: "Jean-Pierre te enseÃ±Ã³ cÃ³mo anclarte. Â¿Estabas dormido?",
        tauntTumble4: "Una PistenBully cuesta 400.000â‚¬. Bueno, costaba.",
        tauntTumble5: "Â¿La pendiente parecÃ­a manejable? La mÃ¡quina no estaba de acuerdo.",
        // Taunts - Avalanche
        tauntAvalanche1: "La montaÃ±a rara vez perdona. No perdonÃ³.",
        tauntAvalanche2: "MÃ©tÃ©o France dijo nivel de riesgo 4. Â¿Lo leÃ­ste?",
        tauntAvalanche3: "El rescate encontrarÃ¡ la mÃ¡quina en primavera. QuizÃ¡s.",
        tauntAvalanche4: "Marie oye la alerta por radio. Ya sabe que eres tÃº.",
        tauntAvalanche5: "El equipo de avalanchas habÃ­a asegurado el sector. TÃº lo des-aseguraste."
    }
};

export function setLanguage(lang: SupportedLanguage): void {
    if (TRANSLATIONS[lang]) {
        currentLang = lang;
        localStorage.setItem(STORAGE_KEYS.LANG, lang);
    }
}

export function getLanguage(): SupportedLanguage {
    return currentLang;
}

export function t(key: string): string {
    return TRANSLATIONS[currentLang]?.[key] || TRANSLATIONS['en']?.[key] || key;
}

export function detectLanguage(): SupportedLanguage {
    const saved = localStorage.getItem(STORAGE_KEYS.LANG);
    if (saved && saved in TRANSLATIONS) {
        return saved as SupportedLanguage;
    }
    const browserLang = navigator.language.split('-')[0];
    return browserLang in TRANSLATIONS ? browserLang as SupportedLanguage : 'fr';
}

export function getSavedLanguage(): SupportedLanguage {
    return detectLanguage();
}
